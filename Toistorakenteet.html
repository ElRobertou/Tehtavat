<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>JavaScript Toistorakenteet</title>
</head>
<body>
<div style="text-align: center;">
    <h1>Toistorakenteet</h1>

    <button onclick="myFunction0()">Kertoma</button>
    <button onclick="myFunction1()">Neliöjuuri</button>
    <button onclick="myFunction2()">Karkausvuodet</button>
    <button onclick="myFunction3()">Arpakuutiot</button>
    <button onclick="myFunction4()">Alkuluku</button>
    <button onclick="myFunction5()">Todennäköisyys</button>


    <p id="kertoma"></p>
    <p id="neliöjuuri"></p>
    <p id="karkausvuodet"></p>
    <p id="arpakuutiot"></p>
    <p id="alkuluku"></p>
    <p id="todennäköisyys"></p>


    <ul id="lista">
    </ul>
</div>

<script>
  function desimaali(x) {
    return Number.parseFloat(x).toFixed(2);
  }
  //TEHT-1--------------------------------------------------------------------------------------------------------------
  function myFunction0() {
    let i, n, kertoma = 1, txt;
    alert('Tulostetaan kokonaisluvun kertoma.');
    n = prompt('Anna kokonaisluku:');
    for (i = 1; i <= n; i++) {
      kertoma = kertoma * i;
      txt = ('Kokonaisluvun ' + n + ' kertoma on: ' + kertoma);
      document.getElementById('kertoma').innerHTML = txt;
    }
  }
  //TEHT-2--------------------------------------------------------------------------------------------------------------
  function myFunction1() {
    let numero, tulos, txt;
    alert('Tulostetaan positiivisen luvun neliöjuuri.');
    numero = prompt('Anna positiivinen luku:');
    if (numero >= 0) {
      tulos = Math.sqrt(+numero);
      txt = ('Luvun ' + numero + ' neliöjuuri on: ' + tulos);
      document.getElementById('neliöjuuri').innerHTML = txt;
    } else if (numero < 0) {
      alert('Et antanut positiivista numeroa.');
      myFunction1();
    }
  }
  //TEHT-3--------------------------------------------------------------------------------------------------------------
  function myFunction2() {
    let alku, loppu, tulos, txt;
    alert('Tulostetaan karkausvuodet antamaltasi aikaväliltä.');
    alku = prompt('Anna aloitusvuosi:');
    loppu = prompt('Anna loppuvuosi:');
    txt = ('Karkausvuodet aika väliltä ' + alku + ' - ' + loppu + ':');
    document.getElementById('karkausvuodet').innerHTML = txt;
    for (alku; alku <= loppu; alku++) {
      if ((alku % 4 === 0 && alku % 100 !== 0) || alku % 400 === 0) {
        tulos = alku;
        let node = document.createElement('LI');
        let textnode = document.createTextNode(tulos);
        node.appendChild(textnode);
        document.getElementById('lista').appendChild(node);
      }
    }
  }
  //TEHT-4--------------------------------------------------------------------------------------------------------------
  function myFunction3() {
    let i, maara, heitto, summa = 0, txt;
    alert('Heitetään useampi noppa ja tulostetaan silmälukujen summa');
    maara = prompt('Montako noppaa heitetään?');
    for (i = 0; i < maara; i++) {
      heitto = Math.floor(Math.random() * 6) + 1;
      summa += heitto;
    }
    txt = ('Noppien yhteissumma on: ' + summa);
    document.getElementById('arpakuutiot').innerHTML = txt;
  }
  //TEHT-5--------------------------------------------------------------------------------------------------------------
  function myFunction4() {
    let i, kokonaisluku, txt;
    alert('Tarkastetaan onko luku alkuluku.');
    kokonaisluku = prompt('Anna kokonaisluku:');
    if (+kokonaisluku === 2) {
      txt = ('Kokonaisluku ' + kokonaisluku + ' on alkuluku');
      document.getElementById('alkuluku').innerHTML = txt;
    } else if (+kokonaisluku === 1) {
      txt = ('Kokonaisluku ' + kokonaisluku + ' ei ole alkuluku');
      document.getElementById('alkuluku').innerHTML = txt;
    }
    for (i = 2; i < kokonaisluku; i++) {
      if (kokonaisluku % i === 0) {
        txt = ('Kokonaisluku ' + kokonaisluku + ' ei ole alkuluku');
        document.getElementById('alkuluku').innerHTML = txt;
        break;
      } else {
        txt = ('Kokonaisluku ' + kokonaisluku + ' on alkuluku');
        document.getElementById('alkuluku').innerHTML = txt;
      }
    }
  }
  //TEHT-6--------------------------------------------------------------------------------------------------------------
  function myFunction5() {
    let i, c, simulaatio = 1000, maara, heitto, tavoite, laskeutui = 0, prosentti, txt;
    alert('Selvitetään kuinka todennäköisesti useamman nopan silmälukujen summa on tavoittelemasi summa.');
    maara = prompt('Montako noppaa heitetään?');
    tavoite = prompt('Mikä on tavoite summa?');
    for (c = 0; c < simulaatio; c++) {
      let summa = 0;
      for (i = 0; i < maara; i++) {
        heitto = Math.floor(Math.random() * 6) + 1;
        summa += heitto;
        console.log('summa: ' + summa);
      }
      if (summa == tavoite) {
        laskeutui++;
      }
    }
    prosentti = (desimaali(laskeutui / simulaatio * 100));
    txt = ('Todennäköisyys, että heitettyjen noppien "' + maara + '" silmälukujen summa vastaa tavoitetta, "' +
        tavoite + '" on: ' + prosentti + '%');
    document.getElementById('arpakuutiot').innerHTML = txt;
  }
</script>
</body>
</html>